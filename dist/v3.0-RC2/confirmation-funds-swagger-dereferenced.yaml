basePath: /open-banking/v3.0
definitions:
  ActiveCurrencyAndAmount_SimpleType:
    additionalProperties: false
    description: >-
      A number of monetary units specified in an active currency where the unit
      of currency is explicit and compliant with ISO 4217.
    properties: {}
    type: object
  Amount:
    pattern: '^\d{1,13}\.\d{1,5}$'
    type: string
  Error:
    properties:
      ErrorCode:
        description: Textual error code
        maxLength: 40
        minLength: 1
        title: ErrorCode
        type: string
      Message:
        description: >-
          Error message with specific reference to the cause of the problem,
          e.g., MISSING_AMOUNT_CURRENCY
        maxLength: 256
        minLength: 1
        title: Message
        type: string
      Path:
        description: >-
          Optionally, reference to the field with error, e.g.,
          /Data/Initiation/InstructedAmount/Currency
        maxLength: 256
        minLength: 1
        title: Path
        type: string
      Url:
        description: >-
          Optionally, a URL to help remediate the problem, to API Reference, or
          help etc
        maxLength: 256
        minLength: 1
        title: Url
        type: string
    required:
      - ErrorCode
      - Message
  ISODateTime:
    description: >-
      All dates in the JSON payloads are represented in ISO 8601 date-time
      format. 

      All date-time fields in responses must include the timezone. An example is
      below:

      2017-04-05T10:43:07+00:00
    format: date-time
    type: string
  Links:
    additionalProperties: false
    description: Links relevant to the payload
    properties:
      First:
        format: uri
        type: string
      Last:
        format: uri
        type: string
      Next:
        format: uri
        type: string
      Prev:
        format: uri
        type: string
      Self:
        format: uri
        type: string
    required:
      - Self
    type: object
  Meta:
    additionalProperties: false
    description: Meta Data relevant to the payload
    properties:
      FirstAvailableDateTime:
        description: >-
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      LastAvailableDateTime:
        description: >-
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      TotalPages:
        format: int32
        type: integer
    title: MetaData
    type: object
  OBActiveOrHistoricCurrencyAndAmount:
    additionalProperties: false
    description: >-
      Amount of money to be confirmed as available funds in the debtor account.
      Contains an Amount and a Currency.
    properties:
      Amount:
        additionalProperties: false
        description: >-
          A number of monetary units specified in an active currency where the
          unit of currency is explicit and compliant with ISO 4217.
        properties: {}
        type: object
      Currency:
        description: >-
          A code allocated to a currency by a Maintenance Agency under an
          international identification scheme, as described in the latest
          edition of the international standard ISO 4217 "Codes for the
          representation of currencies and funds".
        pattern: '^[A-Z]{3,3}$'
        type: string
    required:
      - Amount
      - Currency
    type: object
  OBCashAccountDebtor3:
    additionalProperties: false
    description: >-
      Unambiguous identification of the account of the debtor to which a
      confirmation of funds consent will be applied.
    properties:
      Identification:
        description: >-
          Identification assigned by an institution to identify an account. This
          identification is known by the account owner.
        maxLength: 256
        minLength: 1
        type: string
      Name:
        description: >-
          Name of the account, as assigned by the account servicing institution.

          Usage: The account name is the name or names of the account owner(s)
          represented at an account level. The account name is not the product
          name or the nickname of the account.
        maxLength: 70
        minLength: 1
        type: string
      SchemeName:
        description: >-
          Name of the identification scheme, in a coded form as published in an
          external list.
        maxLength: 40
        minLength: 1
        type: string
      SecondaryIdentification:
        description: >-
          This is secondary identification of the account, as assigned by the
          account servicing institution. 

          This can be used by building societies to additionally identify
          accounts with a roll number (in addition to a sort code and account
          number combination).
        maxLength: 34
        minLength: 1
        type: string
    required:
      - Identification
      - SchemeName
    type: object
  OBErrorResponse:
    additionalProperties: false
    description: Bad request
    properties:
      Code:
        description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
        maxLength: 40
        minLength: 1
        title: Code
        type: number
      Errors:
        description: >-
          An array of detail error codes, and messages, if there are more than
          one error
        items:
          properties:
            ErrorCode:
              description: Textual error code
              maxLength: 40
              minLength: 1
              title: ErrorCode
              type: string
            Message:
              description: >-
                Error message with specific reference to the cause of the
                problem, e.g., MISSING_AMOUNT_CURRENCY
              maxLength: 256
              minLength: 1
              title: Message
              type: string
            Path:
              description: >-
                Optionally, reference to the field with error, e.g.,
                /Data/Initiation/InstructedAmount/Currency
              maxLength: 256
              minLength: 1
              title: Path
              type: string
            Url:
              description: >-
                Optionally, a URL to help remediate the problem, to API
                Reference, or help etc
              maxLength: 256
              minLength: 1
              title: Url
              type: string
          required:
            - ErrorCode
            - Message
        title: Errors
        type: array
      Id:
        description: >-
          Optionally, a Unique reference for the error instance, for audit
          purposes, in case of unkown/unclassified errors
        title: ID
        type: string
      Message:
        description: >-
          Brief non contextual Error message, e.g., 'There is something wrong
          with the request parameters provided'
        maxLength: 40
        minLength: 1
        title: Message
        type: string
    required:
      - Code
      - Errors
      - Message
  OBExternalRequestStatus1Code:
    description: Specifies the status of consent resource in code form.
    enum:
      - Authorised
      - AwaitingAuthorisation
      - Rejected
      - Revoked
    type: string
  OBFundsConfirmation1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          InstructedAmount:
            additionalProperties: false
            description: >-
              Amount of money to be confirmed as available funds in the debtor
              account. Contains an Amount and a Currency.
            properties:
              Amount:
                additionalProperties: false
                description: >-
                  A number of monetary units specified in an active currency
                  where the unit of currency is explicit and compliant with ISO
                  4217.
                properties: {}
                type: object
              Currency:
                description: >-
                  A code allocated to a currency by a Maintenance Agency under
                  an international identification scheme, as described in the
                  latest edition of the international standard ISO 4217 "Codes
                  for the representation of currencies and funds".
                pattern: '^[A-Z]{3,3}$'
                type: string
            required:
              - Amount
              - Currency
            type: object
          Reference:
            description: >-
              Unique reference, as assigned by the CBPII, to unambiguously refer
              to the request related to the payment transaction.
            maxLength: 35
            minLength: 1
            type: string
        required:
          - ConsentId
          - InstructedAmount
          - Reference
        type: object
    required:
      - Data
    type: object
  OBFundsConfirmationConsent1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          DebtorAccount:
            additionalProperties: false
            description: >-
              Unambiguous identification of the account of the debtor to which a
              confirmation of funds consent will be applied.
            properties:
              Identification:
                description: >-
                  Identification assigned by an institution to identify an
                  account. This identification is known by the account owner.
                maxLength: 256
                minLength: 1
                type: string
              Name:
                description: >-
                  Name of the account, as assigned by the account servicing
                  institution.

                  Usage: The account name is the name or names of the account
                  owner(s) represented at an account level. The account name is
                  not the product name or the nickname of the account.
                maxLength: 70
                minLength: 1
                type: string
              SchemeName:
                description: >-
                  Name of the identification scheme, in a coded form as
                  published in an external list.
                maxLength: 40
                minLength: 1
                type: string
              SecondaryIdentification:
                description: >-
                  This is secondary identification of the account, as assigned
                  by the account servicing institution. 

                  This can be used by building societies to additionally
                  identify accounts with a roll number (in addition to a sort
                  code and account number combination).
                maxLength: 34
                minLength: 1
                type: string
            required:
              - Identification
              - SchemeName
            type: object
          ExpirationDateTime:
            description: >-
              Specified date and time the funds confirmation authorisation will
              expire.
               If this is not populated, the authorisation will be open ended.
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
        required:
          - DebtorAccount
        type: object
    required:
      - Data
    type: object
  OBFundsConfirmationConsentData1:
    additionalProperties: false
    properties:
      DebtorAccount:
        additionalProperties: false
        description: >-
          Unambiguous identification of the account of the debtor to which a
          confirmation of funds consent will be applied.
        properties:
          Identification:
            description: >-
              Identification assigned by an institution to identify an account.
              This identification is known by the account owner.
            maxLength: 256
            minLength: 1
            type: string
          Name:
            description: >-
              Name of the account, as assigned by the account servicing
              institution.

              Usage: The account name is the name or names of the account
              owner(s) represented at an account level. The account name is not
              the product name or the nickname of the account.
            maxLength: 70
            minLength: 1
            type: string
          SchemeName:
            description: >-
              Name of the identification scheme, in a coded form as published in
              an external list.
            maxLength: 40
            minLength: 1
            type: string
          SecondaryIdentification:
            description: >-
              This is secondary identification of the account, as assigned by
              the account servicing institution. 

              This can be used by building societies to additionally identify
              accounts with a roll number (in addition to a sort code and
              account number combination).
            maxLength: 34
            minLength: 1
            type: string
        required:
          - Identification
          - SchemeName
        type: object
      ExpirationDateTime:
        description: >-
          Specified date and time the funds confirmation authorisation will
          expire.
           If this is not populated, the authorisation will be open ended.
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
    required:
      - DebtorAccount
    type: object
  OBFundsConfirmationConsentDataResponse1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned to identify the funds confirmation
          consent resource.
        maxLength: 128
        minLength: 1
        type: string
      CreationDateTime:
        description: >-
          Date and time at which the resource was created.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      DebtorAccount:
        additionalProperties: false
        description: >-
          Unambiguous identification of the account of the debtor to which a
          confirmation of funds consent will be applied.
        properties:
          Identification:
            description: >-
              Identification assigned by an institution to identify an account.
              This identification is known by the account owner.
            maxLength: 256
            minLength: 1
            type: string
          Name:
            description: >-
              Name of the account, as assigned by the account servicing
              institution.

              Usage: The account name is the name or names of the account
              owner(s) represented at an account level. The account name is not
              the product name or the nickname of the account.
            maxLength: 70
            minLength: 1
            type: string
          SchemeName:
            description: >-
              Name of the identification scheme, in a coded form as published in
              an external list.
            maxLength: 40
            minLength: 1
            type: string
          SecondaryIdentification:
            description: >-
              This is secondary identification of the account, as assigned by
              the account servicing institution. 

              This can be used by building societies to additionally identify
              accounts with a roll number (in addition to a sort code and
              account number combination).
            maxLength: 34
            minLength: 1
            type: string
        required:
          - Identification
          - SchemeName
        type: object
      ExpirationDateTime:
        description: >-
          Specified date and time the funds confirmation authorisation will
          expire.

          If this is not populated, the authorisation will be open ended.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      Status:
        description: Specifies the status of consent resource in code form.
        enum:
          - Authorised
          - AwaitingAuthorisation
          - Rejected
          - Revoked
        type: string
      StatusUpdateDateTime:
        description: >-
          Date and time at which the resource status was updated.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
    required:
      - ConsentId
      - CreationDateTime
      - DebtorAccount
      - Status
      - StatusUpdateDateTime
    type: object
  OBFundsConfirmationConsentResponse1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned to identify the funds
              confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          CreationDateTime:
            description: >-
              Date and time at which the resource was created.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          DebtorAccount:
            additionalProperties: false
            description: >-
              Unambiguous identification of the account of the debtor to which a
              confirmation of funds consent will be applied.
            properties:
              Identification:
                description: >-
                  Identification assigned by an institution to identify an
                  account. This identification is known by the account owner.
                maxLength: 256
                minLength: 1
                type: string
              Name:
                description: >-
                  Name of the account, as assigned by the account servicing
                  institution.

                  Usage: The account name is the name or names of the account
                  owner(s) represented at an account level. The account name is
                  not the product name or the nickname of the account.
                maxLength: 70
                minLength: 1
                type: string
              SchemeName:
                description: >-
                  Name of the identification scheme, in a coded form as
                  published in an external list.
                maxLength: 40
                minLength: 1
                type: string
              SecondaryIdentification:
                description: >-
                  This is secondary identification of the account, as assigned
                  by the account servicing institution. 

                  This can be used by building societies to additionally
                  identify accounts with a roll number (in addition to a sort
                  code and account number combination).
                maxLength: 34
                minLength: 1
                type: string
            required:
              - Identification
              - SchemeName
            type: object
          ExpirationDateTime:
            description: >-
              Specified date and time the funds confirmation authorisation will
              expire.

              If this is not populated, the authorisation will be open ended.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          Status:
            description: Specifies the status of consent resource in code form.
            enum:
              - Authorised
              - AwaitingAuthorisation
              - Rejected
              - Revoked
            type: string
          StatusUpdateDateTime:
            description: >-
              Date and time at which the resource status was updated.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
        required:
          - ConsentId
          - CreationDateTime
          - DebtorAccount
          - Status
          - StatusUpdateDateTime
        type: object
    required:
      - Data
    type: object
  OBFundsConfirmationData1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation consent resource.
        maxLength: 128
        minLength: 1
        type: string
      InstructedAmount:
        additionalProperties: false
        description: >-
          Amount of money to be confirmed as available funds in the debtor
          account. Contains an Amount and a Currency.
        properties:
          Amount:
            additionalProperties: false
            description: >-
              A number of monetary units specified in an active currency where
              the unit of currency is explicit and compliant with ISO 4217.
            properties: {}
            type: object
          Currency:
            description: >-
              A code allocated to a currency by a Maintenance Agency under an
              international identification scheme, as described in the latest
              edition of the international standard ISO 4217 "Codes for the
              representation of currencies and funds".
            pattern: '^[A-Z]{3,3}$'
            type: string
        required:
          - Amount
          - Currency
        type: object
      Reference:
        description: >-
          Unique reference, as assigned by the CBPII, to unambiguously refer to
          the request related to the payment transaction.
        maxLength: 35
        minLength: 1
        type: string
    required:
      - ConsentId
      - InstructedAmount
      - Reference
    type: object
  OBFundsConfirmationDataResponse1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation consent resource.
        maxLength: 128
        minLength: 1
        type: string
      CreationDateTime:
        description: >-
          Date and time at which the resource was created.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      FundsAvailable:
        description: Flag to indicate the result of a confirmation of funds check.
        type: boolean
      FundsConfirmationId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation resource.
        maxLength: 40
        minLength: 1
        type: string
      InstructedAmount:
        additionalProperties: false
        description: >-
          Amount of money to be confirmed as available funds in the debtor
          account. Contains an Amount and a Currency.
        properties:
          Amount:
            additionalProperties: false
            description: >-
              A number of monetary units specified in an active currency where
              the unit of currency is explicit and compliant with ISO 4217.
            properties: {}
            type: object
          Currency:
            description: >-
              A code allocated to a currency by a Maintenance Agency under an
              international identification scheme, as described in the latest
              edition of the international standard ISO 4217 "Codes for the
              representation of currencies and funds".
            pattern: '^[A-Z]{3,3}$'
            type: string
        required:
          - Amount
          - Currency
        type: object
      Reference:
        description: >-
          Unique reference, as assigned by the CBPII, to unambiguously refer to
          the request related to the payment transaction.
        maxLength: 35
        minLength: 1
        type: string
    required:
      - ConsentId
      - CreationDateTime
      - FundsAvailable
      - FundsConfirmationId
      - InstructedAmount
      - Reference
    type: object
  OBFundsConfirmationResponse1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          CreationDateTime:
            description: >-
              Date and time at which the resource was created.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          FundsAvailable:
            description: Flag to indicate the result of a confirmation of funds check.
            type: boolean
          FundsConfirmationId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation resource.
            maxLength: 40
            minLength: 1
            type: string
          InstructedAmount:
            additionalProperties: false
            description: >-
              Amount of money to be confirmed as available funds in the debtor
              account. Contains an Amount and a Currency.
            properties:
              Amount:
                additionalProperties: false
                description: >-
                  A number of monetary units specified in an active currency
                  where the unit of currency is explicit and compliant with ISO
                  4217.
                properties: {}
                type: object
              Currency:
                description: >-
                  A code allocated to a currency by a Maintenance Agency under
                  an international identification scheme, as described in the
                  latest edition of the international standard ISO 4217 "Codes
                  for the representation of currencies and funds".
                pattern: '^[A-Z]{3,3}$'
                type: string
            required:
              - Amount
              - Currency
            type: object
          Reference:
            description: >-
              Unique reference, as assigned by the CBPII, to unambiguously refer
              to the request related to the payment transaction.
            maxLength: 35
            minLength: 1
            type: string
        required:
          - ConsentId
          - CreationDateTime
          - FundsAvailable
          - FundsConfirmationId
          - InstructedAmount
          - Reference
        type: object
    required:
      - Data
    type: object
  OBRisk2:
    additionalProperties: false
    description: >-
      The Risk section is sent by the initiating party to the ASPSP. It is used
      to specify additional details for risk scoring for Account Info.
    properties: {}
    type: object
info:
  contact:
    email: ServiceDesk@openbanking.org.uk
    name: Service Desk
  description: Swagger for Confirmation of Funds API Specification
  license:
    name: open-licence
    url: 'https://www.openbanking.org.uk/open-licence'
  termsOfService: 'https://www.openbanking.org.uk/terms'
  title: Confirmation of Funds API Specification
  version: v3.0-RC2
parameters:
  AuthorizationParam:
    description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
    in: header
    name: Authorization
    required: true
    type: string
  ConsentId:
    description: ConsentId
    in: path
    name: ConsentId
    required: true
    type: string
  OBFundsConfirmation1Param:
    description: Default
    in: body
    name: OBFundsConfirmation1Param
    required: true
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            InstructedAmount:
              additionalProperties: false
              description: >-
                Amount of money to be confirmed as available funds in the debtor
                account. Contains an Amount and a Currency.
              properties:
                Amount:
                  additionalProperties: false
                  description: >-
                    A number of monetary units specified in an active currency
                    where the unit of currency is explicit and compliant with
                    ISO 4217.
                  properties: {}
                  type: object
                Currency:
                  description: >-
                    A code allocated to a currency by a Maintenance Agency under
                    an international identification scheme, as described in the
                    latest edition of the international standard ISO 4217 "Codes
                    for the representation of currencies and funds".
                  pattern: '^[A-Z]{3,3}$'
                  type: string
              required:
                - Amount
                - Currency
              type: object
            Reference:
              description: >-
                Unique reference, as assigned by the CBPII, to unambiguously
                refer to the request related to the payment transaction.
              maxLength: 35
              minLength: 1
              type: string
          required:
            - ConsentId
            - InstructedAmount
            - Reference
          type: object
      required:
        - Data
      type: object
  OBFundsConfirmationConsent1Param:
    description: Default
    in: body
    name: OBFundsConfirmationConsent1Param
    required: true
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.
                 If this is not populated, the authorisation will be open ended.
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - DebtorAccount
          type: object
      required:
        - Data
      type: object
  x-fapi-customer-ip-address-Param:
    description: The PSU's IP address if the PSU is currently logged in with the TPP.
    in: header
    name: x-fapi-customer-ip-address
    required: false
    type: string
  x-fapi-customer-last-logged-time-Param:
    description: >-
      The time when the PSU last logged in with the TPP. 

      All dates in the HTTP headers are represented as RFC 7231 Full Dates. An
      example is below: 

      Sun, 10 Sep 2017 19:43:31 UTC
    in: header
    name: x-fapi-customer-last-logged-time
    pattern: >-
      ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4} \d{2}:\d{2}:\d{2}
      (GMT|UTC)$
    required: false
    type: string
  x-fapi-financial-id-Param:
    description: >-
      The unique id of the ASPSP to which the request is issued. The unique id
      will be issued by OB.
    in: header
    name: x-fapi-financial-id
    required: true
    type: string
  x-fapi-interaction-id-Param:
    description: An RFC4122 UID used as a correlation id.
    in: header
    name: x-fapi-interaction-id
    required: false
    type: string
  x-idempotency-key:
    description: >-
      Every request will be processed only once per x-idempotency-key.  The
      Idempotency Key will be valid for 24 hours.
    in: header
    maxLength: 40
    name: x-idempotency-key
    pattern: ^(?!\s)(.*)(\S)$
    required: true
    type: string
  x-jws-signature-Param:
    description: >-
      DO NOT USE. Header containing a detached JWS signature of the body of the
      payload.
    in: header
    name: x-jws-signature
    required: false
    type: string
paths:
  /funds-confirmation-consents:
    post:
      consumes:
        - application/json; charset=utf-8
      operationId: CreateFundsConfirmationConsents
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: Default
          in: body
          name: OBFundsConfirmationConsent1Param
          required: true
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.
                       If this is not populated, the authorisation will be open ended.
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - DebtorAccount
                type: object
            required:
              - Data
            type: object
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '201':
          description: Funds Confirmation Consent Created
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned to identify the funds
                      confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.

                      If this is not populated, the authorisation will be open
                      ended.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  Status:
                    description: Specifies the status of consent resource in code form.
                    enum:
                      - Authorised
                      - AwaitingAuthorisation
                      - Rejected
                      - Revoked
                    type: string
                  StatusUpdateDateTime:
                    description: >-
                      Date and time at which the resource status was updated.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - DebtorAccount
                  - Status
                  - StatusUpdateDateTime
                type: object
            required:
              - Data
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Create Funds Confirmation Consent
      tags:
        - Funds Confirmations
  '/funds-confirmation-consents/{ConsentId}':
    delete:
      consumes:
        - application/json; charset=utf-8
      operationId: DeleteFundsConfirmationConsentsConsentId
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: ConsentId
          in: path
          name: ConsentId
          required: true
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '204':
          description: Funds Confirmation Consent Deleted
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Delete Funds Confirmation Consent
      tags:
        - Funds Confirmations
    get:
      consumes:
        - application/json; charset=utf-8
      operationId: GetFundsConfirmationConsentsConsentId
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: ConsentId
          in: path
          name: ConsentId
          required: true
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '200':
          description: Funds Confirmation Consent Read
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned to identify the funds
                      confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.

                      If this is not populated, the authorisation will be open
                      ended.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  Status:
                    description: Specifies the status of consent resource in code form.
                    enum:
                      - Authorised
                      - AwaitingAuthorisation
                      - Rejected
                      - Revoked
                    type: string
                  StatusUpdateDateTime:
                    description: >-
                      Date and time at which the resource status was updated.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - DebtorAccount
                  - Status
                  - StatusUpdateDateTime
                type: object
            required:
              - Data
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Get Funds Confirmation Consent
      tags:
        - Funds Confirmations
  /funds-confirmations:
    post:
      consumes:
        - application/json; charset=utf-8
      operationId: CreateFundsConfirmations
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: Default
          in: body
          name: OBFundsConfirmation1Param
          required: true
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  InstructedAmount:
                    additionalProperties: false
                    description: >-
                      Amount of money to be confirmed as available funds in the
                      debtor account. Contains an Amount and a Currency.
                    properties:
                      Amount:
                        additionalProperties: false
                        description: >-
                          A number of monetary units specified in an active
                          currency where the unit of currency is explicit and
                          compliant with ISO 4217.
                        properties: {}
                        type: object
                      Currency:
                        description: >-
                          A code allocated to a currency by a Maintenance Agency
                          under an international identification scheme, as
                          described in the latest edition of the international
                          standard ISO 4217 "Codes for the representation of
                          currencies and funds".
                        pattern: '^[A-Z]{3,3}$'
                        type: string
                    required:
                      - Amount
                      - Currency
                    type: object
                  Reference:
                    description: >-
                      Unique reference, as assigned by the CBPII, to
                      unambiguously refer to the request related to the payment
                      transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                required:
                  - ConsentId
                  - InstructedAmount
                  - Reference
                type: object
            required:
              - Data
            type: object
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '201':
          description: Funds Confirmation Created
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  FundsAvailable:
                    description: >-
                      Flag to indicate the result of a confirmation of funds
                      check.
                    type: boolean
                  FundsConfirmationId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation resource.
                    maxLength: 40
                    minLength: 1
                    type: string
                  InstructedAmount:
                    additionalProperties: false
                    description: >-
                      Amount of money to be confirmed as available funds in the
                      debtor account. Contains an Amount and a Currency.
                    properties:
                      Amount:
                        additionalProperties: false
                        description: >-
                          A number of monetary units specified in an active
                          currency where the unit of currency is explicit and
                          compliant with ISO 4217.
                        properties: {}
                        type: object
                      Currency:
                        description: >-
                          A code allocated to a currency by a Maintenance Agency
                          under an international identification scheme, as
                          described in the latest edition of the international
                          standard ISO 4217 "Codes for the representation of
                          currencies and funds".
                        pattern: '^[A-Z]{3,3}$'
                        type: string
                    required:
                      - Amount
                      - Currency
                    type: object
                  Reference:
                    description: >-
                      Unique reference, as assigned by the CBPII, to
                      unambiguously refer to the request related to the payment
                      transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - FundsAvailable
                  - FundsConfirmationId
                  - InstructedAmount
                  - Reference
                type: object
            required:
              - Data
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: Bad request
            properties:
              Code:
                description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
                maxLength: 40
                minLength: 1
                title: Code
                type: number
              Errors:
                description: >-
                  An array of detail error codes, and messages, if there are
                  more than one error
                items:
                  properties:
                    ErrorCode:
                      description: Textual error code
                      maxLength: 40
                      minLength: 1
                      title: ErrorCode
                      type: string
                    Message:
                      description: >-
                        Error message with specific reference to the cause of
                        the problem, e.g., MISSING_AMOUNT_CURRENCY
                      maxLength: 256
                      minLength: 1
                      title: Message
                      type: string
                    Path:
                      description: >-
                        Optionally, reference to the field with error, e.g.,
                        /Data/Initiation/InstructedAmount/Currency
                      maxLength: 256
                      minLength: 1
                      title: Path
                      type: string
                    Url:
                      description: >-
                        Optionally, a URL to help remediate the problem, to API
                        Reference, or help etc
                      maxLength: 256
                      minLength: 1
                      title: Url
                      type: string
                  required:
                    - ErrorCode
                    - Message
                title: Errors
                type: array
              Id:
                description: >-
                  Optionally, a Unique reference for the error instance, for
                  audit purposes, in case of unkown/unclassified errors
                title: ID
                type: string
              Message:
                description: >-
                  Brief non contextual Error message, e.g., 'There is something
                  wrong with the request parameters provided'
                maxLength: 40
                minLength: 1
                title: Message
                type: string
            required:
              - Code
              - Errors
              - Message
      security:
        - PSUOAuth2Security:
            - fundsconfirmations
      summary: Create Funds Confirmation
      tags:
        - Funds Confirmations
produces:
  - application/json; charset=utf-8
responses:
  200FundsConfirmationConsentsConsentIdRead:
    description: Funds Confirmation Consent Read
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned to identify the funds
                confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.

                If this is not populated, the authorisation will be open ended.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            Status:
              description: Specifies the status of consent resource in code form.
              enum:
                - Authorised
                - AwaitingAuthorisation
                - Rejected
                - Revoked
              type: string
            StatusUpdateDateTime:
              description: >-
                Date and time at which the resource status was updated.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - DebtorAccount
            - Status
            - StatusUpdateDateTime
          type: object
      required:
        - Data
      type: object
  201FundsConfirmationConsentsCreated:
    description: Funds Confirmation Consent Created
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned to identify the funds
                confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.

                If this is not populated, the authorisation will be open ended.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            Status:
              description: Specifies the status of consent resource in code form.
              enum:
                - Authorised
                - AwaitingAuthorisation
                - Rejected
                - Revoked
              type: string
            StatusUpdateDateTime:
              description: >-
                Date and time at which the resource status was updated.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - DebtorAccount
            - Status
            - StatusUpdateDateTime
          type: object
      required:
        - Data
      type: object
  201FundsConfirmationsCreated:
    description: Funds Confirmation Created
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            FundsAvailable:
              description: Flag to indicate the result of a confirmation of funds check.
              type: boolean
            FundsConfirmationId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation resource.
              maxLength: 40
              minLength: 1
              type: string
            InstructedAmount:
              additionalProperties: false
              description: >-
                Amount of money to be confirmed as available funds in the debtor
                account. Contains an Amount and a Currency.
              properties:
                Amount:
                  additionalProperties: false
                  description: >-
                    A number of monetary units specified in an active currency
                    where the unit of currency is explicit and compliant with
                    ISO 4217.
                  properties: {}
                  type: object
                Currency:
                  description: >-
                    A code allocated to a currency by a Maintenance Agency under
                    an international identification scheme, as described in the
                    latest edition of the international standard ISO 4217 "Codes
                    for the representation of currencies and funds".
                  pattern: '^[A-Z]{3,3}$'
                  type: string
              required:
                - Amount
                - Currency
              type: object
            Reference:
              description: >-
                Unique reference, as assigned by the CBPII, to unambiguously
                refer to the request related to the payment transaction.
              maxLength: 35
              minLength: 1
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - FundsAvailable
            - FundsConfirmationId
            - InstructedAmount
            - Reference
          type: object
      required:
        - Data
      type: object
  204FundsConfirmationConsentsConsentIdDeleted:
    description: Funds Confirmation Consent Deleted
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
  400ErrorResponse:
    description: Bad request
    schema:
      additionalProperties: false
      description: Bad request
      properties:
        Code:
          description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
          maxLength: 40
          minLength: 1
          title: Code
          type: number
        Errors:
          description: >-
            An array of detail error codes, and messages, if there are more than
            one error
          items:
            properties:
              ErrorCode:
                description: Textual error code
                maxLength: 40
                minLength: 1
                title: ErrorCode
                type: string
              Message:
                description: >-
                  Error message with specific reference to the cause of the
                  problem, e.g., MISSING_AMOUNT_CURRENCY
                maxLength: 256
                minLength: 1
                title: Message
                type: string
              Path:
                description: >-
                  Optionally, reference to the field with error, e.g.,
                  /Data/Initiation/InstructedAmount/Currency
                maxLength: 256
                minLength: 1
                title: Path
                type: string
              Url:
                description: >-
                  Optionally, a URL to help remediate the problem, to API
                  Reference, or help etc
                maxLength: 256
                minLength: 1
                title: Url
                type: string
            required:
              - ErrorCode
              - Message
          title: Errors
          type: array
        Id:
          description: >-
            Optionally, a Unique reference for the error instance, for audit
            purposes, in case of unkown/unclassified errors
          title: ID
          type: string
        Message:
          description: >-
            Brief non contextual Error message, e.g., 'There is something wrong
            with the request parameters provided'
          maxLength: 40
          minLength: 1
          title: Message
          type: string
      required:
        - Code
        - Errors
        - Message
  401ErrorResponse:
    description: Unauthorized
  403ErrorResponse:
    description: Forbidden
  405ErrorResponse:
    description: Method Not Allowed
  406ErrorResponse:
    description: Not Acceptable
  429ErrorResponse:
    description: Too Many Requests
    headers:
      Retry-After:
        description: Number in seconds to wait
        type: integer
  500ErrorResponse:
    description: Internal Server Error
    schema:
      additionalProperties: false
      description: Bad request
      properties:
        Code:
          description: 'Mandatory, high level Textual error code, e.g., BAD_REQUEST'
          maxLength: 40
          minLength: 1
          title: Code
          type: number
        Errors:
          description: >-
            An array of detail error codes, and messages, if there are more than
            one error
          items:
            properties:
              ErrorCode:
                description: Textual error code
                maxLength: 40
                minLength: 1
                title: ErrorCode
                type: string
              Message:
                description: >-
                  Error message with specific reference to the cause of the
                  problem, e.g., MISSING_AMOUNT_CURRENCY
                maxLength: 256
                minLength: 1
                title: Message
                type: string
              Path:
                description: >-
                  Optionally, reference to the field with error, e.g.,
                  /Data/Initiation/InstructedAmount/Currency
                maxLength: 256
                minLength: 1
                title: Path
                type: string
              Url:
                description: >-
                  Optionally, a URL to help remediate the problem, to API
                  Reference, or help etc
                maxLength: 256
                minLength: 1
                title: Url
                type: string
            required:
              - ErrorCode
              - Message
          title: Errors
          type: array
        Id:
          description: >-
            Optionally, a Unique reference for the error instance, for audit
            purposes, in case of unkown/unclassified errors
          title: ID
          type: string
        Message:
          description: >-
            Brief non contextual Error message, e.g., 'There is something wrong
            with the request parameters provided'
          maxLength: 40
          minLength: 1
          title: Message
          type: string
      required:
        - Code
        - Errors
        - Message
schemes:
  - https
securityDefinitions:
  PSUOAuth2Security:
    authorizationUrl: 'https://authserver.example/authorization'
    description: >-
      OAuth flow, it is required when the PSU needs to perform SCA with the
      ASPSP when a TPP wants to access an ASPSP resource owned by the PSU
    flow: accessCode
    scopes:
      fundsconfirmations: Funds confirmation entitlement
    tokenUrl: 'https://authserver.example/token'
    type: oauth2
  TPPOAuth2Security:
    description: TPP client credential authorisation flow with the ASPSP
    flow: application
    scopes:
      fundsconfirmations: Funds confirmation entitlement
    tokenUrl: 'https://authserver.example/token'
    type: oauth2
swagger: '2.0'
